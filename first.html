<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoleStyle - Premium Footwear</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
            }

            25% {
                transform: translateY(-8px) rotate(1deg);
            }

            50% {
                transform: translateY(-15px) rotate(0deg);
            }

            75% {
                transform: translateY(-8px) rotate(-1deg);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .float-animation {
            animation: float 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            transform-origin: center;
        }

        .slide-in {
            animation: slideIn 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .fade-in-up {
            animation: fadeInUp 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .hover-lift {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
        }

        .hover-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
        }

        .hidden {
            display: none;
        }

        .modal-overlay {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="text-2xl font-bold text-blue-600">👟 SoleStyle</div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="#" class="text-gray-700 hover:text-blue-600 transition-colors">Home</a>
                    <a href="#products" class="text-gray-700 hover:text-blue-600 transition-colors">Products</a>
                    <a href="#about" class="text-gray-700 hover:text-blue-600 transition-colors">About</a>
                    <a href="#contact" class="text-gray-700 hover:text-blue-600 transition-colors">Contact</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="cartBtn" class="text-gray-700 hover:text-blue-600 transition-colors relative">
                        🛒 Cart (<span id="cartCount">0</span>)
                        <span id="cartBadge"
                            class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-2 py-1 hidden">0</span>
                    </button>
                    <div id="userSection">
                        <button id="signInBtn"
                            class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">Sign
                            In</button>
                    </div>
                    <div id="loggedInSection" class="hidden">
                        <span id="welcomeUser" class="text-gray-700 mr-4"></span>
                        <button id="logoutBtn"
                            class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative overflow-hidden py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="slide-in">
                    <h1 class="text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
                        Step Into <span class="text-blue-600">Style</span>
                    </h1>
                    <p class="text-xl text-gray-600 mb-8">
                        Discover our premium collection of footwear designed for comfort, style, and performance.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button
                            class="bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-all hover-lift">
                            Shop Now
                        </button>
                        <button
                            class="border-2 border-blue-600 text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-600 hover:text-white transition-all">
                            View Collection
                        </button>
                    </div>
                </div>
                <div class="relative">
                    <div class="float-animation">
                        <svg viewBox="0 0 400 300" class="w-full h-auto">
                            <path
                                d="M50 200 Q80 180 120 185 L280 190 Q320 185 350 200 L340 220 Q300 235 250 230 L100 225 Q70 220 50 200 Z"
                                fill="#2563eb" opacity="0.9" />
                            <path
                                d="M60 205 Q90 190 130 195 L270 200 Q310 195 330 205 L325 215 Q290 225 240 222 L110 218 Q80 215 60 205 Z"
                                fill="#1d4ed8" />
                            <ellipse cx="200" cy="180" rx="80" ry="15" fill="#3b82f6" />
                            <path d="M140 185 Q160 175 180 180 L220 182 Q240 180 260 185" stroke="#1e40af"
                                stroke-width="2" fill="none" />
                            <circle cx="160" cy="175" r="3" fill="#f3f4f6" />
                            <circle cx="180" cy="173" r="3" fill="#f3f4f6" />
                            <circle cx="200" cy="172" r="3" fill="#f3f4f6" />
                            <circle cx="220" cy="173" r="3" fill="#f3f4f6" />
                            <circle cx="240" cy="175" r="3" fill="#f3f4f6" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section id="products" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 fade-in-up">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Featured Products</h2>
                <p class="text-xl text-gray-600">Handpicked shoes for every occasion</p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Product 1 -->
                <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 hover-lift fade-in-up"
                    data-product='{"id": 1, "name": "Nike Air Max 270", "price": 129.99, "originalPrice": 149.99, "image": "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=300&fit=crop&crop=center"}'>
                    <div class="mb-6 overflow-hidden rounded-xl">
                        <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=300&fit=crop&crop=center"
                            alt="Nike Air Max Sneakers"
                            class="w-full h-48 object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Nike Air Max 270</h3>
                    <p class="text-gray-600 mb-4">Iconic comfort meets modern style with visible Air cushioning</p>
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-sm text-gray-500 line-through">$149.99</span>
                            <span class="text-2xl font-bold text-blue-600 ml-2">$129.99</span>
                        </div>
                        <button
                            class="add-to-cart bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-all pulse-animation">Add
                            to Cart</button>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 hover-lift fade-in-up"
                    data-product='{"id": 2, "name": "Adidas Ultraboost 22", "price": 159.99, "originalPrice": 189.99, "image": "https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=300&fit=crop&crop=center"}'>
                    <div class="mb-6 overflow-hidden rounded-xl">
                        <img src="https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=300&fit=crop&crop=center"
                            alt="Adidas Ultraboost Sneakers"
                            class="w-full h-48 object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Adidas Ultraboost 22</h3>
                    <p class="text-gray-600 mb-4">Revolutionary energy return with responsive Boost midsole</p>
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-sm text-gray-500 line-through">$189.99</span>
                            <span class="text-2xl font-bold text-blue-600 ml-2">$159.99</span>
                        </div>
                        <button
                            class="add-to-cart bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-all pulse-animation">Add
                            to Cart</button>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6 hover-lift fade-in-up"
                    data-product='{"id": 3, "name": "Air Jordan 1 Retro High", "price": 179.99, "originalPrice": 199.99, "image": "https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400&h=300&fit=crop&crop=center"}'>
                    <div class="mb-6 overflow-hidden rounded-xl">
                        <img src="https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400&h=300&fit=crop&crop=center"
                            alt="Jordan Basketball Sneakers"
                            class="w-full h-48 object-cover transition-transform duration-500 hover:scale-110">
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Air Jordan 1 Retro High</h3>
                    <p class="text-gray-600 mb-4">Legendary basketball heritage meets timeless street style</p>
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="text-sm text-gray-500 line-through">$199.99</span>
                            <span class="text-2xl font-bold text-blue-600 ml-2">$179.99</span>
                        </div>
                        <button
                            class="add-to-cart bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-all pulse-animation">Add
                            to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-20 bg-gradient-to-r from-blue-600 to-purple-600">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold text-white mb-4">Why Choose SoleStyle?</h2>
                <p class="text-xl text-blue-100">Quality, comfort, and style in every step</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <div class="text-center hover-lift">
                    <div class="text-6xl mb-4">🚚</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Free Shipping</h3>
                    <p class="text-blue-100">Free delivery on orders over $75</p>
                </div>
                <div class="text-center hover-lift">
                    <div class="text-6xl mb-4">🔄</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Easy Returns</h3>
                    <p class="text-blue-100">30-day hassle-free returns</p>
                </div>
                <div class="text-center hover-lift">
                    <div class="text-6xl mb-4">⭐</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Premium Quality</h3>
                    <p class="text-blue-100">Crafted with finest materials</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="py-20 bg-gray-900">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-bold text-white mb-4">Stay Updated</h2>
            <p class="text-xl text-gray-300 mb-8">Get the latest updates on new arrivals and exclusive offers</p>
            <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                <input type="email" id="newsletterEmail" placeholder="Enter your email"
                    class="flex-1 px-4 py-3 rounded-lg border border-gray-600 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button id="subscribeBtn"
                    class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">Subscribe</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="text-2xl font-bold text-blue-400 mb-4">👟 SoleStyle</div>
                    <p class="text-gray-300">Premium footwear for every lifestyle</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Home</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Products</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">About</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Customer Service</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Size Guide</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Returns</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">Shipping</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition-colors">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-blue-400 transition-colors text-2xl">📘</a>
                        <a href="#" class="text-gray-300 hover:text-blue-400 transition-colors text-2xl">📷</a>
                        <a href="#" class="text-gray-300 hover:text-blue-400 transition-colors text-2xl">🐦</a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 SoleStyle. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Sign In Modal -->
    <div id="signInModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 transform transition-all">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Welcome Back</h2>
                <p class="text-gray-600">Sign in to your account</p>
            </div>
            <form id="signInForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                    <input type="email" id="signInEmail" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                    <input type="password" id="signInPassword" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mb-4">Sign
                    In</button>
                <p class="text-center text-gray-600">
                    Don't have an account?
                    <button type="button" id="showRegister" class="text-blue-600 hover:underline">Register here</button>
                </p>
            </form>
            <button id="closeSignIn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">✕</button>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 transform transition-all">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Join SoleStyle</h2>
                <p class="text-gray-600">Create your account</p>
            </div>
            <form id="registerForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Full Name</label>
                    <input type="text" id="registerName" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                    <input type="email" id="registerEmail" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                    <input type="password" id="registerPassword" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mb-4">Create
                    Account</button>
                <p class="text-center text-gray-600">
                    Already have an account?
                    <button type="button" id="showSignIn" class="text-blue-600 hover:underline">Sign in here</button>
                </p>
            </form>
            <button id="closeRegister" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">✕</button>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="fixed inset-0 modal-overlay z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-3xl font-bold text-gray-900">Shopping Cart</h2>
                <button id="closeCart" class="text-gray-400 hover:text-gray-600 text-2xl">✕</button>
            </div>
            <div id="cartItems" class="space-y-4 mb-6">
                <!-- Cart items will be populated here -->
            </div>
            <div class="border-t pt-4">
                <div class="flex justify-between items-center text-xl font-bold mb-4">
                    <span>Total: $<span id="cartTotal">0.00</span></span>
                </div>
                <button id="checkoutBtn"
                    class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors text-lg font-semibold">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <script>
        // Database simulation using localStorage
        class Database {
            static getUsers() {
                return JSON.parse(localStorage.getItem('users') || '[]');
            }

            static saveUser(user) {
                const users = this.getUsers();
                users.push(user);
                localStorage.setItem('users', JSON.stringify(users));
            }

            static findUser(email) {
                const users = this.getUsers();
                return users.find(user => user.email === email);
            }

            static getCurrentUser() {
                return JSON.parse(localStorage.getItem('currentUser') || 'null');
            }

            static setCurrentUser(user) {
                localStorage.setItem('currentUser', JSON.stringify(user));
            }

            static logout() {
                localStorage.removeItem('currentUser');
            }

            static getCart() {
                const user = this.getCurrentUser();
                if (!user) return [];
                return JSON.parse(localStorage.getItem(`cart_${user.email}`) || '[]');
            }

            static saveCart(cart) {
                const user = this.getCurrentUser();
                if (!user) return;
                localStorage.setItem(`cart_${user.email}`, JSON.stringify(cart));
            }
        }

        // Cart functionality
        let cart = [];

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const cartBadge = document.getElementById('cartBadge');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

            cartCount.textContent = totalItems;
            if (totalItems > 0) {
                cartBadge.textContent = totalItems;
                cartBadge.classList.remove('hidden');
            } else {
                cartBadge.classList.add('hidden');
            }
        }

        function addToCart(product) {
            const currentUser = Database.getCurrentUser();
            if (!currentUser) {
                // Use a custom modal or message box instead of alert()
                showCustomMessage('Please sign in to add items to cart.');
                document.getElementById('signInModal').classList.remove('hidden');
                return;
            }

            const existingItem = cart.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            Database.saveCart(cart);
            updateCartDisplay();

            // Visual feedback
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Added!';
            button.classList.add('bg-green-600');
            button.classList.remove('bg-blue-600');

            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('bg-green-600');
                button.classList.add('bg-blue-600');
            }, 1500);
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            Database.saveCart(cart);
            updateCartDisplay();
            displayCartItems();
        }

        function updateQuantity(productId, newQuantity) {
            if (newQuantity <= 0) {
                removeFromCart(productId);
                return;
            }

            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity = newQuantity;
                Database.saveCart(cart);
                updateCartDisplay();
                displayCartItems();
            }
        }

        function displayCartItems() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-8">Your cart is empty</p>';
                cartTotal.textContent = '0.00';
                return;
            }

            let total = 0;
            cartItems.innerHTML = cart.map(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                return `
                    <div class="flex items-center space-x-4 p-4 border rounded-lg">
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded">
                        <div class="flex-1">
                            <h3 class="font-semibold">${item.name}</h3>
                            <p class="text-gray-600">$${item.price.toFixed(2)}</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="updateQuantity(${item.id}, ${item.quantity - 1})" class="bg-gray-200 px-2 py-1 rounded">-</button>
                            <span class="px-3">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, ${item.quantity + 1})" class="bg-gray-200 px-2 py-1 rounded">+</button>
                        </div>
                        <div class="text-right">
                            <p class="font-semibold">$${itemTotal.toFixed(2)}</p>
                            <button onclick="removeFromCart(${item.id})" class="text-red-500 text-sm hover:underline">Remove</button>
                        </div>
                    </div>
                `;
            }).join('');

            cartTotal.textContent = total.toFixed(2);
        }

        // Authentication
        function updateAuthDisplay() {
            const currentUser = Database.getCurrentUser();
            const userSection = document.getElementById('userSection');
            const loggedInSection = document.getElementById('loggedInSection');
            const welcomeUser = document.getElementById('welcomeUser');

            if (currentUser) {
                userSection.classList.add('hidden');
                loggedInSection.classList.remove('hidden');
                welcomeUser.textContent = `Welcome, ${currentUser.name}!`;

                // Load user's cart
                cart = Database.getCart();
                updateCartDisplay();
            } else {
                userSection.classList.remove('hidden');
                loggedInSection.classList.add('hidden');
                cart = [];
                updateCartDisplay();
            }
        }

        // Custom Message Box (replaces alert())
        function showCustomMessage(message) {
            const messageBox = document.createElement('div');
            messageBox.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]';
            messageBox.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm text-center">
                    <p class="text-lg font-semibold mb-4">${message}</p>
                    <button class="bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700" onclick="this.parentElement.parentElement.remove()">OK</button>
                </div>
            `;
            document.body.appendChild(messageBox);
        }


        // Event listeners
        document.addEventListener('DOMContentLoaded', function () {
            updateAuthDisplay();

            // Add to cart buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function (e) {
                    const productCard = e.target.closest('[data-product]');
                    const product = JSON.parse(productCard.dataset.product);
                    addToCart(product);
                });
            });

            // Cart button
            document.getElementById('cartBtn').addEventListener('click', function () {
                displayCartItems();
                document.getElementById('cartModal').classList.remove('hidden');
            });

            // Close cart
            document.getElementById('closeCart').addEventListener('click', function () {
                document.getElementById('cartModal').classList.add('hidden');
            });

            // Sign in button
            document.getElementById('signInBtn').addEventListener('click', function () {
                document.getElementById('signInModal').classList.remove('hidden');
            });

            // Close sign in
            document.getElementById('closeSignIn').addEventListener('click', function () {
                document.getElementById('signInModal').classList.add('hidden');
            });

            // Show register
            document.getElementById('showRegister').addEventListener('click', function () {
                document.getElementById('signInModal').classList.add('hidden');
                document.getElementById('registerModal').classList.remove('hidden');
            });

            // Show sign in
            document.getElementById('showSignIn').addEventListener('click', function () {
                document.getElementById('registerModal').classList.add('hidden');
                document.getElementById('signInModal').classList.remove('hidden');
            });

            // Close register
            document.getElementById('closeRegister').addEventListener('click', function () {
                document.getElementById('registerModal').classList.add('hidden');
            });

            // Register form
            document.getElementById('registerForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;

                // Check if user already exists
                if (Database.findUser(email)) {
                    showCustomMessage('User already exists with this email.');
                    return;
                }

                // Save user
                const user = { name, email, password, createdAt: new Date().toISOString() };
                Database.saveUser(user);
                Database.setCurrentUser(user);

                // Close modal and update display
                document.getElementById('registerModal').classList.add('hidden');
                updateAuthDisplay();
                showCustomMessage('Account created successfully!');
            });

            // Sign In form
            document.getElementById('signInForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const email = document.getElementById('signInEmail').value;
                const password = document.getElementById('signInPassword').value;

                const user = Database.findUser(email);

                if (user && user.password === password) {
                    Database.setCurrentUser(user);
                    document.getElementById('signInModal').classList.add('hidden');
                    updateAuthDisplay();
                    showCustomMessage(`Welcome back, ${user.name}!`);
                } else {
                    showCustomMessage('Invalid email or password.');
                }
            });

            // Logout button
            document.getElementById('logoutBtn').addEventListener('click', function () {
                Database.logout();
                updateAuthDisplay();
                showCustomMessage('You have been logged out.');
            });

            // Newsletter subscription (client-side only for now)
            document.getElementById('subscribeBtn').addEventListener('click', function () {
                const email = document.getElementById('newsletterEmail').value;
                if (email) {
                    showCustomMessage(`Thank you for subscribing, ${email}!`);
                    document.getElementById('newsletterEmail').value = ''; // Clear input
                } else {
                    showCustomMessage('Please enter a valid email address.');
                }
            });

            // Checkout button (placeholder)
            document.getElementById('checkoutBtn').addEventListener('click', function () {
                if (cart.length > 0) {
                    showCustomMessage('Proceeding to checkout! (This is a demo, no actual payment)');
                    cart = []; // Clear cart after "checkout"
                    Database.saveCart(cart);
                    updateCartDisplay();
                    displayCartItems();
                    document.getElementById('cartModal').classList.add('hidden');
                } else {
                    showCustomMessage('Your cart is empty. Add some items before checking out!');
                }
            });
        });
    </script>
</body>

</html>
